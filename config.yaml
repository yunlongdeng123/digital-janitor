# Smart File Organizer 配置文件

# 目录配置
paths:
  inbox: inbox
  archive: archive
  quarantine: quarantine
  logs: logs

# 运行模式配置
dry_run: true  # 设为 true 时仅预览，不实际移动文件

# 预览配置
max_preview_chars: 1000  # 文本预览最大字符数

# 文件命名规则模板
naming_template:
  # 发票命名规则：发票_供应商_日期_金额.pdf
  invoice:
    pattern: "发票_{vendor}_{date}_{amount}.{ext}"
    example: "发票_阿里云_20231215_1580.00.pdf"
    
  # 合同命名规则：合同_对方公司_合同类型_签订日期.pdf
  contract:
    pattern: "合同_{company}_{type}_{date}.{ext}"
    example: "合同_腾讯科技_服务协议_20231201.pdf"
    
  # 论文命名规则：论文_作者_标题关键词_年份.pdf
  paper:
    pattern: "论文_{author}_{keywords}_{year}.{ext}"
    example: "论文_张三_机器学习应用_2023.pdf"
    
  # 图片命名规则：图片_描述_日期.ext
  image:
    pattern: "图片_{description}_{date}.{ext}"
    example: "图片_产品截图_20231215.png"
    
  # 演示文稿命名规则：演示_主题_日期.ext
  presentation:
    pattern: "演示_{topic}_{date}.{ext}"
    example: "演示_产品发布会_20231215.pptx"

# 文件归档路由规则 (PR#2: 三级路由策略)
# 
# 路由优先级:
#   1. Memory 偏好 (最高) - 从用户历史操作中学习的偏好
#   2. 日期分层规则 - 财务类文档按 Category/YYYY/MM 归档
#   3. 语义化归档 - 其他文档按 Category/Vendor 归档
#
routing:
  # 强制使用日期分层 (Category/YYYY/MM) 的文档类型
  # 这些类型的文件会按年月自动归档，便于财务审计
  date_partition_types: 
    - "invoice"        # 发票
    - "receipt"        # 票据/收据
    - "bank_statement" # 银行账单
  
  # 非日期类型的默认归档模板 (Python f-string 风格)
  # 可用变量: category, vendor, title, year, month
  # 例如: 合同/腾讯科技, 论文/张三
  default_structure: "{category}/{vendor}"
  
  # 兜底目录 (当无法提取 vendor 时使用)
  # 例如: 合同/General, 论文/General
  fallback_structure: "{category}/General"

# 安全性配置
safety:
  # 文件名消毒：自动移除非法字符
  sanitize_filename: true
  
  # 文件名冲突处理策略
  # - "suffix": 添加数字后缀 (如 file_1.pdf, file_2.pdf)
  # - "timestamp": 添加时间戳后缀
  # - "skip": 跳过已存在的文件
  # - "overwrite": 覆盖（不推荐）
  collision_policy: "suffix"
  
  # 文件大小限制（MB）
  max_file_mb: 50
  
  # 允许处理的文件扩展名白名单
  allowed_ext:
    - ".pdf"
    - ".docx"
    - ".doc"
    - ".xlsx"
    - ".xls"
    - ".ppt"
    - ".pptx"
    - ".txt"
    - ".png"
    - ".jpg"
    - ".jpeg"
    - ".gif"
    - ".svg"
    - ".md"

